<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>총게임</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f0f0f0;
            text-align: center;
            padding: 50px;
        }
        .button {
            margin: 10px;
            padding: 15px 30px;
            font-size: 16px;
            cursor: pointer;
        }
        #result {
            margin-top: 20px;
            font-size: 24px;
        }
        #hp {
            margin-top: 20px;
            font-size: 20px;
        }
    </style>
</head>
<body>

<h1>총게임</h1>
<button class="button" id="shoot">사격</button>
<button class="button" id="restart" style="display: none;">다시하기</button>

<div id="result"></div>
<div id="hp">플레이어 HP: 3 | 적 HP: 3</div>

<script>
    let playerHP = 3;
    let enemyHP = 3;
    const resultDisplay = document.getElementById('result');
    const hpDisplay = document.getElementById('hp');

    function updateHP() {
        hpDisplay.innerHTML = `플레이어 HP: ${playerHP} | 적 HP: ${enemyHP}`;
        if (playerHP <= 0) {
            resultDisplay.innerHTML = "게임 오버! 적이 이겼습니다!";
            disableButtons();
        } else if (enemyHP <= 0) {
            resultDisplay.innerHTML = "축하합니다! 당신이 이겼습니다!";
            disableButtons();
        }
    }

    function disableButtons() {
        document.getElementById('shoot').disabled = true;
        document.getElementById('restart').style.display = 'block';
    }

    function resetGame() {
        playerHP = 3;
        enemyHP = 3;
        resultDisplay.innerHTML = '';
        hpDisplay.innerHTML = `플레이어 HP: ${playerHP} | 적 HP: ${enemyHP}`;
        document.getElementById('restart').style.display = 'none'; // 다시하기 버튼 숨기기
        document.getElementById('shoot').disabled = false; // 버튼 활성화
    }

    function shoot() {
        const hitChance = Math.random();
        if (hitChance < 0.7) { // 70% 확률로 적에게 대미지를 줌
            const damage = Math.floor(Math.random() * 2) + 1; // 1 또는 2의 피해량
            enemyHP -= damage;
            resultDisplay.innerHTML = `당신이 적에게 ${damage}의 피해를 줬습니다!`;
        } else {
            resultDisplay.innerHTML = "타격 실패! 적을 놓쳤습니다.";
        }

        if (enemyHP > 0) {
            const enemyDamage = Math.floor(Math.random() * 2) + 1; // 적의 피해량
            playerHP -= enemyDamage;
            resultDisplay.innerHTML += `<br>적이 반격하여 ${enemyDamage}의 피해를 줬습니다!`;
        }

        updateHP();
    }

    document.getElementById('shoot').addEventListener('click', shoot);
    document.getElementById('restart').addEventListener('click', resetGame);
</script>

</body>
</html>
